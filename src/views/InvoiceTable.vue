<template>
  <div>
    <Header>
      <HeaderContent />
    </Header>
    <div class="card">
      <div class="card-header justify-content-center">
        <h2 style="font-weight: 700; padding-top: 56px;">
          Invoice Table
        </h2>
      </div>      
      <div class="table-responsive" id="invoicetable" style="overflow-y: auto; height: 500px; position: sticky; top: 0; ">
       <table class="table table-bordered table-striped" style="border-collapse: collapse; width: 100%;">
         <thead style="position: sticky; top: 0;">
        <tr>
          <th scole="col" style="position: sticky; top: 0;">Name</th>
          <th scole="col" style="position: sticky; top: 0;">Email</th>
          <th scole="col" style="position: sticky; top: 0;">Contact</th>
          <th scole="col" style="position: sticky; top: 0;">Product Name</th>
          <th scole="col" style="position: sticky; top: 0;">Purchase Date</th>
          <th scole="col" style="position: sticky; top: 0;">Actual Price</th>
          <th scole="col" style="position: sticky; top: 0;">Discount Price</th>
          <th scole="col" style="position: sticky; top: 0;">Final Price</th>
          <th scole="col" style="position: sticky; top: 0;">Invoice Number</th>
          <th scole="col" style="position: sticky; top: 0;">Transection ID</th>
          <th scole="col" style="position: sticky; top: 0;">Transection Mode</th>
              
        </tr>
         </thead>
        <tbody style=" height: 10px !important; overflow: scroll; ">
         <tr>
          
          <td>saloni</td>
          <td>saasxfdgfghj@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sadxfchvbn@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sazdfxg@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>safgh@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sadfg@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sdfgha@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        <tr>
          
          <td>saloni</td>
          <td>sa@gmail.com</td>     
          <td>2345678765</td>  
          <td>python</td>  
          <td>2/3/19</td> 
          <td>5000</td>
          <td>1000</td>    
          <td>4000</td>   
          <td>Saloni Python</td> 
          <td>1234</td> 
          <td>Online</td>                      
        </tr>
        </tbody>
       </table>
     </div> 
      <div class="dropdown" style="padding-bottom: 20px; padding-top:10px; padding-left:15px;">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" 
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Filter By
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="#">User Name</a>
              <a class="dropdown-item" href="#">Purchase Course</a>
              <a class="dropdown-item" href="#">Purchase Date</a>
              <a class="dropdown-item" href="#">Invoice Name</a>
            </div>
      
      </div>  
     
      <div
                  class="print col-md-6"
                  style="margin-left: auto; margin-right: auto;padding-bottom: 25px;"
                  >
                  <center>
                   <button class="btn btn-primary hidden-print" onclick="myFunction()">
                    <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Print</button>
	              </center>   
      </div>               
    </div>
    <!--Enquiry section ends here-->
    <Footer />
  </div>
</template>

<script>
//import Header from "@/components/header/Header.vue";
import Header from "@/components/header/CodevidhyaNewHeader.vue";
//import HeaderContent from "@/components/enquiry/HeaderContent.vue";
import Footer from "@/components/footer/Footer.vue";

import axios from "axios";

export default {
  name: "home",
  components: {
    Header,
    
    Footer
  },
  data: function() {
    return {
      demoFormSubmitClicked: false,
      demoFullname: "",
      demoEmail: "",
      demoPhone: "",
      demoSchool: "",
      demoSchoolAddress: "",
      demoSchoolLevel: "highschools",
      demoSchoolAffiliation: "",
      demoGrades: "g1to10",
      demoReplyAt: "",
      demoMessage: "",

      curriculumFormSubmitClicked: false,
      curriculumFullname: "",
      curriculumEmail: "",
      curriculumPhone: "",
      curriculumSchool: "",
      curriculumSchoolAddress: "",
      curriculumSchoolLevel: "highschools",
      curriculumSchoolAffiliation: "",
      curriculumGrades: "RSProgram",
      curriculumSession: "s2020",
      curriculumReplyAt: "",
      curriculumNumberOfStudents: "",
      curriculumMessage: ""
    };
  },
  mounted() {
    window.jQuery("#tablayout").champ({
      plugin_type: "tab",
      active_tab: "1",
      controllers: "false"
    });

    window.jQuery(".select2").select2({
      minimumResultsForSearch: Infinity
    });
  },
  methods: {
    validateEmail(email) {
      return window.validateEmail(email);
    },
    validatePhone(phone) {
      return window.validatePhone(phone);
    },
    submitDemoRequest(e) {
      e.preventDefault();
      this.demoFormSubmitClicked = true;
      var canSend = true;
      if (!this.demoFullname) {
        canSend = false;
      }

      if (!this.validateEmail(this.demoEmail)) {
        canSend = false;
      }
      if (!this.demoSchool) {
        canSend = false;
      }

      if (!this.demoSchoolAddress) {
        canSend = false;
      }

      this.demoSchoolAffiliation = document.querySelector(
        'input[name="demo-affiliation"]:checked'
      ).value;

      if (!this.validatePhone(this.demoPhone)) {
        canSend = false;
      }

      if (!canSend) {
        window.cvNotify("Please enter all details.", "error");
        return;
      }

      var profile = window
        .jQuery("#demo-profile")
        .val()
        .join();
      var vm = this;
      axios
        .post("/api/user/sendDemoRequest", {
          name: this.demoFullname,
          email: this.demoEmail,
          phone: this.demoPhone,
          profile: profile,
          school_name: this.demoSchool,
          school_level: this.demoSchoolLevel,
          address: this.demoSchoolAddress,
          affiliation: this.demoSchoolAffiliation,
          grades: this.demoGrades,
          reply_at: this.demoReplyAt,
          message: this.demoMessage
        })
        .then(() => {
          vm.demoFormSubmitClicked = false;
          vm.demoFullname = "";
          vm.demoEmail = "";
          vm.demoPhone = "";
          vm.demoSchool = "";
          vm.demoSchoolAddress = "";
          vm.demoReplyAt = "";
          vm.demoMessage = "";
          window.cvNotify(
            "Your request for a demo has been submitted successfully."
          );
        })
        .catch(() => {
          window.cvNotify("Your request could not be submitted.", "error");
        });
    },

    submitCurriculumRequest(e) {
      e.preventDefault();
      this.curriculumFormSubmitClicked = true;
      var profile = window
        .jQuery("#curriculum-profile")
        .val()
        .join();

      var canSend = true;
      if (!this.curriculumFullname) {
        canSend = false;
      }

      if (!this.validateEmail(this.curriculumEmail)) {
        canSend = false;
      }

      if (!this.curriculumSchool) {
        canSend = false;
      }

      if (!this.curriculumSchoolAddress) {
        canSend = false;
      }

      this.curriculumSchoolAffiliation = document.querySelector(
        'input[name="curriculum-affiliation"]:checked'
      ).value;

      if (!this.validatePhone(this.curriculumPhone)) {
        canSend = false;
      }

      if (!canSend) {
        window.cvNotify("Please enter all details.", "error");
        return;
      }
      var vm = this;
      axios
        .post("/api/user/sendCurriculumRequest", {
          name: this.curriculumFullname,
          email: this.curriculumEmail,
          phone: this.curriculumPhone,
          profile: profile,
          school_name: this.curriculumSchool,
          school_level: this.curriculumSchoolLevel,
          address: this.curriculumSchoolAddress,
          affiliation: this.curriculumSchoolAffiliation,
          grades: this.curriculumGrades,
          session: this.curriculumSession,
          no_of_students: this.curriculumNumberOfStudents,
          reply_at: this.curriculumReplyAt,
          message: this.curriculumMessage
        })
        .then(() => {
          vm.curriculumFormSubmitClicked = false;
          vm.curriculumFullname = "";
          vm.curriculumEmail = "";
          vm.curriculumPhone = "";
          vm.curriculumSchool = "";
          vm.curriculumSchoolAddress = "";
          vm.curriculumReplyAt = "";
          vm.curriculumNumberOfStudents = "";
          vm.curriculumMessage = "";
          window.cvNotify(
            "Your request for curriculum has been submitted successfully."
          );
        })
        .catch(() => {
          window.cvNotify("Your request could not be submitted.", "error");
        });
    }
  }
};
</script>
